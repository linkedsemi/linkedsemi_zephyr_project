

*** Description ***

LINEDSEMI 基于mbedtls仓库实现了一些在lsqsh_evb上基于otbn或硬件的加密功能。

基于otbn实现了sm3、sha256、sha384、sha512的hash计算功能,以及sm3、p256r1、p384r1的ecdsa加解密计算。
基于qsh_evb硬件实现了------

*** Notes, Please read ***

使用时,需要注意的是：
当使用非软件的hash计算时,可从<_OTBN_ALT>或<_HARDWARE_ALT>两者之一进行配置。otbn暂不支持sha224的计算。
当两者均不配置时,默认使用软件加密。
<!-- CONFIG_MBEDTLS_SHA224_SHA256_SM3_LINKEDSEMI_HARDWARE_ALT=y -->
<!-- CONFIG_MBEDTLS_SHA256_SM3_LINKEDSEMI_OTBN_ALT=y -->

<!-- CONFIG_MBEDTLS_SHA384_SHA512_LINKEDSEMI_HARDWARE_ALT=y -->
<!-- # CONFIG_MBEDTLS_SHA384_SHA512_LINKEDSEMI_OTBN_ALT=y -->

当使用基于otbn的非对称加密ecdsa时,需要配置
<!-- CONFIG_MBEDTLS_ECDSA_SECP256R1_SECP384R1_SM2_LINKEDSEMI_OTBN_ALT=y -->
这里需要注意的是,当打开这个配置项后.除了上述宏名字中所提到的加密曲线,其他所有ecdsa的软件计算均失效,如p256k1.是无法进行的。

注意：
1.当在zephyr os中使用mbedtls的代码时,需默认打开CONFIG_MBEDTLS_THREADING_LINKEDSEMI_ALT,当多线程同事调用mbedtls时,会出现
资源冲突的情况,如alloc函数申请的是同一个mbedtls的内存池,需要打开这个配置项来实现线程间mbedtls资源的互斥。
2.所有基于otbn的实现,均内部实现了多线程间对otbn模块资源的互斥,用户使用时需要注意一点：当在同一个线程使用hash功能时,在start和
finish函数之间,不允许调用其他基于otbn的函数。(hash计算的中间内容保存在otbn的内存区域,不允许其他函数访问)。如果出现了错误的使用,
则函数会直接<return MBEDTLS_ERR_LS_OTBN_BUSY>,使用时需要注意。
